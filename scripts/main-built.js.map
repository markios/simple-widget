{"version":3,"file":"main-built.js","sources":["libs/backbone-touch.js","libs/base.js","views/base-view.js","views/loading-view.js","views/menu-view.js","routers/app-router.js","views/app-view.js","libs/xdr.js","libs/client-branding.js","main.js"],"names":[],"mappings":"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","sourcesContent":["\ndefine('BackboneTouch',[\n    'Lodash',\n    'Backbone'\n],\nfunction(\n    _,\n    Backbone\n) {\n    \"use strict\";\n\n    // The `getValue` and `delegateEventSplitter` is copied from \n    // Backbones source, unfortunately these are not available\n    // in any form from Backbone itself\n    var getValue = function(object, prop) {\n        if (!(object && object[prop])) return null;\n        return _.isFunction(object[prop]) ? object[prop]() : object[prop];\n    };\n    var delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\n    _.extend(Backbone.View.prototype, {\n        _touching : false,\n\n        touchPrevents : true,\n\n        isTouch : 'ontouchstart' in document,\n\n        // Drop in replacement for Backbone.View#delegateEvent\n        // Enables better touch support\n        // \n        // If the users device is touch enabled it replace any `click`\n        // event with listening for touch(start|move|end) in order to\n        // quickly trigger touch taps\n        delegateEvents: function(events) {\n            if (!(events || (events = getValue(this, 'events')))) return;\n            this.undelegateEvents();\n            var suffix = '.delegateEvents' + this.cid;\n            _(events).each(function(method, key) {\n                if (!_.isFunction(method)) method = this[events[key]];\n                if (!method) throw new Error('Method \"' + events[key] + '\" does not exist');\n                var match = key.match(delegateEventSplitter);\n                var eventName = match[1], selector = match[2];\n                var boundHandler = _.bind(this._touchHandler,this);\n                method = _.bind(method, this);\n                if (this.isTouch && eventName === 'click') {\n                    this.$el.on('touchstart' + suffix, selector, boundHandler);\n                    this.$el.on('touchend' + suffix, selector,\n                        {method:method},\n                        boundHandler\n                    );\n                }\n                else {\n                    eventName += suffix;\n                    if (selector === '') {\n                        this.$el.bind(eventName, method);\n                    } else {\n                        this.$el.on(eventName, selector, method);\n                    }\n                }\n            }, this);\n        },\n\n        // At the first touchstart we register touchevents as ongoing\n        // and as soon as a touch move happens we set touching to false,\n        // thus implying that a fastclick will not happen when\n        // touchend occurs. If no touchmove happened\n        // inbetween touchstart and touchend we trigger the event\n        //\n        // The `touchPrevents` toggle decides if Backbone.touch\n        // will stop propagation and prevent default\n        // for *button* and *a* elements\n        _touchHandler : function(e) {\n            if (!('changedTouches' in e.originalEvent)) return;\n            var touch = e.originalEvent.changedTouches[0];\n            var x = touch.clientX;\n            var y = touch.clientY;\n            switch (e.type) {\n                case 'touchstart':\n                    this._touching = [x, y];\n                    break;\n                case 'touchend':\n                    var oldX = this._touching[0];\n                    var oldY = this._touching[1];\n                    var threshold = 10;\n                    if (x < (oldX + threshold) && x > (oldX - threshold) &&\n                        y < (oldY + threshold) && y > (oldY - threshold)) {\n                        this._touching = false;\n                        if (this.touchPrevents) {\n                            var tagName = e.currentTarget.tagName;\n                            if (tagName === 'BUTTON' ||\n                                tagName === 'A') {\n                                e.preventDefault();\n                                e.stopPropagation();\n                            }\n                        }\n                        e.data.method(e);\n                    }\n                    break;\n            }\n        }\n    });\n    return Backbone;\n});","\ndefine('libs/base',[\n    'jQuery',\n    'Lodash',\n    'openbox',\n    'Backbone'\n],\nfunction(\n    $,\n    _,\n    openbox,\n    Backbone\n) {\n    'use strict';\n\n    var base = {\n\n        defer : function(time){\n            var context = this;\n            return _.bind(function (f) {\n                this.hasDeffered = setTimeout(function(){ f.apply(context); }, time);\n            }, this);\n        },\n\n        buildUrl : function(){\n            this.url = this.urlPart.format(this.params.phaseId, this.params.languageCode, Date.now());\n            return this;\n        },\n\n        platformIsTablet : function(){\n            return ! this.platformIsMobile() && this.platformIsNative();\n        },\n\n        platformIsNative : function(){\n            return (navigator.userAgent.match(/Android/i) || navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i)) != null;\n        },\n\n        platformIsWeb : function(){\n            return ! this.platformIsNative();\n        },\n\n        platformIsMobile : function(){\n            return this.platformIsNative() && $('body').width() <= 410;\n        },\n\n        framework : Backbone.Events\n    };\n  \n    return base;\n});","\ndefine('views/base-view',[\n    'jQuery',\n    'Lodash',\n    'Backbone',\n    'openbox',\n    'libs/base'\n],\nfunction(\n    $,\n    _,\n    Backbone,\n    openbox,\n    base\n) {\n    'use strict';\n\n    var  monthStringsAbr = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n         dayStringsAbr = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n         dateString = '{0} {1} {2} {3}',\n         $scrollEl = $('body,html');\n\n    var baseView = Backbone.View.extend({\n\n        _pageChanged : function(page){\n            this.$el.toggle(page === this.name);\n        },\n\n        initialize : function(){\n            this.framework.on('page:changed', this._pageChanged, this);\n        },\n\n        showBusy : function(){\n            $('<div class=\"loading\">').html(this.message || this.viewName + ' will begin soon...').appendTo(this.$el);\n        },\n\n        hideBusy : function(){\n            this.$('.loading').remove();\n        },\n\n        scrollTo : function(to){\n            if(typeof to === 'string') to = $scrollEl[0].scrollHeight;\n            if(! this.platformIsNative()) {\n                $scrollEl.animate({ scrollTop : to }, 1000);\n            }\n            else {\n                $scrollEl.scrollTop(to);\n            }\n        },\n\n        getFriendlyDateString : function(date){\n            date = typeof date === 'string' ? new Date(date) : date;\n            return dateString.format(dayStringsAbr[date.getDay()], this._ordinal(date.getDate()), monthStringsAbr[date.getMonth()], date.getFullYear());\n        },\n\n        addAppendView : function(Target, options){\n            var view = new Target(_.extend({ model : this.model }, options));\n            this.$el.append(view.$el);\n            this.views.push(view);\n            return view;\n        }\n\n    });\n\n    _.extend(baseView.prototype, base);\n\n    return baseView;\n});","\ndefine('views/loading-view',[\n    'jQuery',\n    'Lodash',\n    'Backbone',\n    'openbox',\n    'views/base-view'\n],\nfunction(\n    $,\n    _,\n    Backbone,\n    openbox,\n    BaseView\n) {\n    'use strict';\n\n    return BaseView.extend({\n\n        /* Public Members */\n        _onReady : function(e){\n            this.$el.addClass('ready');\n            var self = this;\n            setTimeout(function(){\n                self.$el.hide();\n            }, 1000);\n            this.framework.trigger('content:loaded');\n        },\n\n        _progress : function(percent){\n            this.loaded = percent;\n            this.$progress.css({ width :  this.loaded + '%' });\n        },\n\n        _preload : function(images){\n            var self = this,\n                isWeb = ! this.platformIsNative(),\n                targetCount = images.length;\n\n            _.each(images, function(imageName){\n                var image = new Image();\n                image.src = isWeb ? imageName.replace('@2x', '') : imageName;\n                image.onload = function(){\n                    targetCount-=1;\n                    self._progress(self._loadingBits);\n                    if(targetCount === 0) self._onReady();\n                };\n            });\n        },\n\n        _updateProgress : function(){\n            this._progress(100);\n            this.defer(300)(this._onReady);\n        },\n\n        loaded : 0,\n\n        initialize : function(){\n            this.framework.on('ready', this._onReady, this);\n            this.$progress = this.$('#progressBar');\n            this.render();\n        },\n\n        render : function(){\n            return this;\n        }\n    });\n});","\ndefine('views/menu-view',[\n    'jQuery',\n    'Lodash',\n    'BackboneTouch',\n    'openbox',\n    'views/base-view'\n],\nfunction(\n    $,\n    _,\n    Backbone,\n    openbox,\n    BaseView\n) {\n    'use strict';\n\n    return BaseView.extend({\n\n        _onMenuClicked : function(e){\n            window.location.hash = '#' + $(e.currentTarget).attr('data-rel');\n            this.defer(300)(this._notifyMenuClicked);\n        },\n\n        _notifyMenuClicked : function(){\n            this.framework.trigger('menu:hide');\n        },\n\n        events : {\n            'change input[type=\"radio\"]' : '_onMenuClicked'\n        },\n\n        initialize : function(){\n            \n        },\n\n        render : function(){\n\n            return this;\n        }\n    });\n\n});","\ndefine('routers/app-router',[\n    'jQuery',\n    'Lodash',\n    'openbox',\n    'Backbone',\n    'libs/base'\n],\nfunction(\n    $,\n    _,\n    openbox,\n    Backbone,\n    Base\n) {\n    'use strict';\n\n    /*  Private Members */\n    var AppRouter = Backbone.Router.extend({\n\n        /* Public Members */\n        routes: {\n            ''              :  'main',\n            'home'          :  'main'\n        },\n\n        initialize : function(){},\n\n        main: function(query, page) {\n            this.framework.trigger('page:changed', page);\n        }\n    });\n\n    _.extend(AppRouter.prototype, Base);\n\n    return AppRouter;\n});","\ndefine('views/app-view',[\n    'jQuery',\n    'Lodash',\n    'BackboneTouch',\n    'openbox',\n    'views/base-view',\n    'views/loading-view',\n    'views/menu-view',\n    'routers/app-router'\n],\nfunction(\n    $,\n    _,\n    Backbone,\n    openbox,\n    BaseView,\n    LoadingView,\n    MenuView,\n    AppRouter\n) {\n    'use strict';\n\n    return BaseView.extend({\n\n        _onBackToTop : function(){\n            this.scrollTo(0);\n        },\n\n        _initSubViews : function(){\n            this.views.push(new LoadingView({ el : '.loading', collection : this.collection }));\n            this.views.push(new MenuView({ el : '.menu' }));\n        },\n\n        _onMenuClicked : function(){\n            this.$('.wrapper').toggleClass('peekIn');\n        },\n\n        /* Public Members */\n        views : [],\n\n        events : {\n            'click .menu-button' : '_onMenuClicked'\n        },\n\n        initialize : function(){\n            this._initSubViews();\n            this.router = new AppRouter();\n            Backbone.history.start({ pushState : false });\n            this.render();\n            this.framework.trigger('ready');\n            this.framework.on('menu:hide', this._onMenuClicked, this);\n        },\n\n        render : function(){\n            this.$('header .title .main > .big').html(new Date().getFullYear());\n            return this;\n        }\n    });\n});","\n// Based on https://github.com/jaubourg/ajaxHooks/blob/master/src/ajax/xdr.js\ndefine('libs/xdr',[\n    'jQuery'\n],\nfunction(\n    $\n) {\n    'use strict';\nif ( window.XDomainRequest && !jQuery.support.cors ) {\n\tjQuery.ajaxTransport(function( s ) {\n\t\tif ( s.crossDomain && s.async ) {\n\t\t\tif ( s.timeout ) {\n\t\t\t\ts.xdrTimeout = s.timeout;\n\t\t\t\tdelete s.timeout;\n\t\t\t}\n\t\t\tvar xdr;\n\t\t\treturn {\n\t\t\t\tsend: function( _, complete ) {\n\t\t\t\t\tfunction callback( status, statusText, responses, responseHeaders ) {\n\t\t\t\t\t\txdr.onload = xdr.onerror = xdr.ontimeout = xdr.onprogress = jQuery.noop;\n\t\t\t\t\t\txdr = undefined;\n\t\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t\t\tcomplete( status, statusText, responses, responseHeaders );\n\t\t\t\t\t}\n\t\t\t\t\txdr = new XDomainRequest();\n\t\t\t\t\txdr.open( s.type, s.url );\n\t\t\t\t\txdr.onload = function() {\n\t\t\t\t\t\tvar status = 200;\n\t\t\t\t\t\tvar message = xdr.responseText;\n\t\t\t\t\t\tvar r = JSON.parse(xdr.responseText);\n\t\t\t\t\t\tif (r.StatusCode && r.Message) {\n\t\t\t\t\t\t\tstatus = r.StatusCode;\n\t\t\t\t\t\t\tmessage = r.Message;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcallback( status , message, { text: message }, \"Content-Type: \" + xdr.contentType );\n\t\t\t\t\t};\n\t\t\t\t\txdr.onerror = function() {\n\t\t\t\t\t\tcallback( 500, \"Unable to Process Data\" );\n\t\t\t\t\t};\n\t\t\t\t\txdr.onprogress = function() {};\n\t\t\t\t\tif ( s.xdrTimeout ) {\n\t\t\t\t\t\txdr.ontimeout = function() {\n\t\t\t\t\t\t\tcallback( 0, \"timeout\" );\n\t\t\t\t\t\t};\n\t\t\t\t\t\txdr.timeout = s.xdrTimeout;\n\t\t\t\t\t}\n\t\t\t\t\txdr.send( ( s.hasContent && s.data ) || null );\n\t\t\t\t},\n\t\t\t\tabort: function() {\n\t\t\t\t\tif ( xdr ) {\n\t\t\t\t\t\txdr.onerror = jQuery.noop();\n\t\t\t\t\t\txdr.abort();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t});\n}\n});","\ndefine('libs/client-branding',[\n    'openbox'\n],\nfunction(\n    openbox\n) {\n    'use strict';\n\n    openbox.ready(function(params) {\n        // preload\n        var createStyle = function(href){\n            var ss = document.createElement(\"link\");\n            ss.type = \"text/css\";\n            ss.rel = 'stylesheet';\n            ss.href = href;\n            return ss;\n        };\n\n        if(params.style){\n            var client = (window.location.href.split('style=')[1]).replace(/(&.*)/, ''),\n                head = document.getElementsByTagName(\"head\")[0],\n                path = './styles/' + client;\n\n            head.appendChild(createStyle(path + '/style.css'));\n            if(navigator.userAgent.match(/MSIE/i)) head.appendChild(createStyle(path + '/ie.css'));\n        }\n    });\n\n});","\nrequire.config({\n    baseUrl: 'scripts',\n    paths: {\n        'Lodash': '/openbox/vendor/lodash/1.0.1/lodash.underscore.min',\n        'jQuery': [\n            'http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min',\n            '/openbox/vendor/jquery/1.9.1/jquery-1.9.1.min'\n         ],\n        'Backbone': '/openbox/vendor/backbone/1.0.0/backbone-min',\n        'BackboneTouch' : 'libs/backbone-touch',\n        'openbox': '/openbox/api/3.1/openbox.min',\n        'text' : 'libs/text'\n    },\n    shim: {\n        'jQuery' : {\n            exports : '$'\n        },\n        'hogan': {\n            exports: 'Hogan'\n        },\n        'Lodash': {\n            exports: '_'\n        },\n        'Backbone': {\n            deps: ['Lodash', 'jQuery'],\n            exports: \"Backbone\"\n        },\n        'openbox': {deps: ['jQuery'], exports: 'openbox'}\n    }\n});\n\n\n/* globals window */\n\nrequire([\n    'jQuery',\n    'Lodash',\n    'views/app-view',\n    'openbox',\n    'libs/xdr',\n    'libs/client-branding'\n],\nfunction(\n    $,\n    _,\n    AppView,\n    openbox,\n    xdr\n) {\n    'use strict';\n\n    String.prototype.format = function () {\n        var args = arguments;\n        return this.replace(/{(\\d+)}/g, function (match, number) {\n            return typeof args[number] !== 'undefined'\n              ? args[number]\n              : match\n            ;\n        });\n    };\n\n    var $progressBar,\n        $overlay,\n        initApp = function(params){\n            // on loaded \n            var appView = new AppView({\n                el : 'body',\n                version : window.f1version\n            });\n\n        };\n\n    openbox.ready(function(params) {\n        // preload\n        openbox.setWidgetDetails({\n             version     : 'base widget',\n             partner     : 'your partner',\n             supplier    : 'domain',\n             type        : 'the type',\n             desc        : 'adescription'\n        });\n\n        initApp(params);\n    });\n\n});\ndefine(\"main\", function(){});\n"]}