{"version":3,"file":"main-built.js","sources":["libs/backbone-touch.js","libs/base.js","views/base-view.js","models/base-collection.js","libs/utils.js","models/phase-weekend-collection.js","models/race-collection.js","models/qualifying-collection.js","models/phase-model.js","views/loading-view.js","libs/text.js","../../../../../../../../../text!templates/car.html","views/car-view.js","views/grid-view.js","../../../../../../../../../text!templates/profile.html","views/profile-view.js","../../../../../../../../../text!templates/find.html","views/find-view.js","views/progress-view.js","views/app-view.js","libs/xdr.js","libs/client-branding.js","main.js"],"names":[],"mappings":"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","sourcesContent":["\ndefine('BackboneTouch',[\n    'Lodash',\n    'Backbone'\n],\nfunction(\n    _,\n    Backbone\n) {\n    \"use strict\";\n\n    // The `getValue` and `delegateEventSplitter` is copied from \n    // Backbones source, unfortunately these are not available\n    // in any form from Backbone itself\n    var getValue = function(object, prop) {\n        if (!(object && object[prop])) return null;\n        return _.isFunction(object[prop]) ? object[prop]() : object[prop];\n    };\n    var delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\n    _.extend(Backbone.View.prototype, {\n        _touching : false,\n\n        touchPrevents : true,\n\n        isTouch : 'ontouchstart' in document,\n\n        // Drop in replacement for Backbone.View#delegateEvent\n        // Enables better touch support\n        // \n        // If the users device is touch enabled it replace any `click`\n        // event with listening for touch(start|move|end) in order to\n        // quickly trigger touch taps\n        delegateEvents: function(events) {\n            if (!(events || (events = getValue(this, 'events')))) return;\n            this.undelegateEvents();\n            var suffix = '.delegateEvents' + this.cid;\n            _(events).each(function(method, key) {\n                if (!_.isFunction(method)) method = this[events[key]];\n                if (!method) throw new Error('Method \"' + events[key] + '\" does not exist');\n                var match = key.match(delegateEventSplitter);\n                var eventName = match[1], selector = match[2];\n                var boundHandler = _.bind(this._touchHandler,this);\n                method = _.bind(method, this);\n                if (this.isTouch && eventName === 'click') {\n                    this.$el.on('touchstart' + suffix, selector, boundHandler);\n                    this.$el.on('touchend' + suffix, selector,\n                        {method:method},\n                        boundHandler\n                    );\n                }\n                else {\n                    eventName += suffix;\n                    if (selector === '') {\n                        this.$el.bind(eventName, method);\n                    } else {\n                        this.$el.on(eventName, selector, method);\n                    }\n                }\n            }, this);\n        },\n\n        // At the first touchstart we register touchevents as ongoing\n        // and as soon as a touch move happens we set touching to false,\n        // thus implying that a fastclick will not happen when\n        // touchend occurs. If no touchmove happened\n        // inbetween touchstart and touchend we trigger the event\n        //\n        // The `touchPrevents` toggle decides if Backbone.touch\n        // will stop propagation and prevent default\n        // for *button* and *a* elements\n        _touchHandler : function(e) {\n            if (!('changedTouches' in e.originalEvent)) return;\n            var touch = e.originalEvent.changedTouches[0];\n            var x = touch.clientX;\n            var y = touch.clientY;\n            switch (e.type) {\n                case 'touchstart':\n                    this._touching = [x, y];\n                    break;\n                case 'touchend':\n                    var oldX = this._touching[0];\n                    var oldY = this._touching[1];\n                    var threshold = 10;\n                    if (x < (oldX + threshold) && x > (oldX - threshold) &&\n                        y < (oldY + threshold) && y > (oldY - threshold)) {\n                        this._touching = false;\n                        if (this.touchPrevents) {\n                            var tagName = e.currentTarget.tagName;\n                            if (tagName === 'BUTTON' ||\n                                tagName === 'A') {\n                                e.preventDefault();\n                                e.stopPropagation();\n                            }\n                        }\n                        e.data.method(e);\n                    }\n                    break;\n            }\n        }\n    });\n    return Backbone;\n});","\ndefine('libs/base',[\n    'jQuery',\n    'Lodash',\n    'openbox',\n    'Backbone'\n],\nfunction(\n    $,\n    _,\n    openbox,\n    Back\n) {\n    'use strict';\n\n    var base = {\n\n        defer : function(time){\n            var context = this;\n            return _.bind(function (f) {\n                this.hasDeffered = setTimeout(function(){ f.apply(context); }, time);\n            }, this);\n        },\n\n        onPhaseDetails : function(data){\n            this.setParamsWith(this.phaseTarget, data)\n                .buildUrl()\n                .beginPolling()\n                .fetch();\n        },\n\n        setParamsWith : function(name, data){\n            var details = _.where(data, { c_Phase : name })[0];\n            this.params = {\n                phaseId : details.n_Phase1ID,\n                languageCode : openbox.params.languageCode || 2\n            };\n            return this;\n        },\n\n        beginPolling : function(){\n            var that = this;\n            this.interval = setInterval(function(){\n                that.buildUrl().fetch();\n            }, this.pollSpeed || 8000);\n            return this;\n        },\n\n        buildUrl : function(){\n            this.url = this.urlPart.format(this.params.phaseId, this.params.languageCode, Date.now());\n            return this;\n        },\n\n        platformIsTablet : function(){\n            return ! this.platformIsMobile() && this.platformIsNative();\n        },\n\n        platformIsNative : function(){\n            if(openbox.params.preview != null) return true;\n            return (navigator.userAgent.match(/Android/i) || navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i)) != null;\n        },\n\n        platformIsWeb : function(){\n            return ! this.platformIsNative();\n        },\n\n        platformIsMobile : function(){\n            if(openbox.params.preview != null) return true;\n            return this.platformIsNative() && $('body').width() <= 410;\n        },\n\n        framework : Backbone.Events\n  };\n  \n  return base;\n});","\ndefine('views/base-view',[\n    'jQuery',\n    'Lodash',\n    'Backbone',\n    'openbox',\n    'libs/base'\n],\nfunction(\n    $,\n    _,\n    Backbone,\n    openbox,\n    base\n) {\n    'use strict';\n\n    var  monthStringsAbr = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n         dayStringsAbr = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n         dateString = '{0} {1} {2} {3}';\n    \n        var $scrollEl = $('body,html');\n\n        // if (jQuery.browser.msie) {\n        //     $scrollEl = $scrollEl.parent();\n        // }\n\n    var baseView = Backbone.View.extend({\n\n        showBusy : function(){\n            $('<div class=\"loading\">').html(this.message || this.viewName + ' will begin soon...').appendTo(this.$el);\n        },\n\n        _ordinal : function (number, justOrdinal) {\n            var b = number % 10,\n                output = (~~ (number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return justOrdinal ? output : number + output;\n        },\n\n        hideBusy : function(){\n            this.$('.loading').remove();\n        },\n\n        scrollTo : function(to){\n            if(typeof to === 'string') to = $scrollEl[0].scrollHeight;\n            if(! this.platformIsNative()) $scrollEl.animate({scrollTop: to}, 1000);\n            else $scrollEl.scrollTop(to);\n        },\n\n        framework : {},\n\n        getFriendlyDateString : function(date){\n            date = typeof date === 'string' ? new Date(date) : date;\n            return dateString.format(dayStringsAbr[date.getDay()], this._ordinal(date.getDate()), monthStringsAbr[date.getMonth()], date.getFullYear());\n        },\n\n        addAppendView : function(Target, options){\n            var view = new Target(_.extend({ model : this.model }, options));\n            this.$el.append(view.$el);\n            this.views.push(view);\n            return view;\n        }\n\n    });\n\n    _.extend(baseView.prototype, base);\n\n    return baseView;\n});","\ndefine('models/base-collection',[\n    'jQuery',\n    'Lodash',\n    'Backbone',\n    'openbox',\n    'libs/base'\n],\nfunction(\n    $,\n    _,\n    Backbone,\n    openbox,\n    base\n) {\n    'use strict';\n\n    var baseModel =  Backbone.Collection.extend({\n\n        deepFind : function(obj, path){\n            var paths = path.split('.'),\n                current = obj,\n                i,\n                pathLength = paths.length;\n\n            for (i = 0; i < pathLength; ++i) {\n                if (current[paths[i]] === undefined) {\n                    return undefined;\n                } else {\n                    current = current[paths[i]];\n                }\n            }\n            return current;\n        }\n\n        \n    });\n    _.extend(baseModel.prototype, base);\n    return baseModel;\n});","\ndefine('libs/utils',['openbox'], function (openbox) {\n    'use strict';\n\n    var host = openbox.params.host || window.location.host,\n        elm = document.getElementsByTagName(\"body\")[0],\n        animation = false,\n        animationstring = 'animation',\n        keyframeprefix = '',\n        domPrefixes = 'Webkit Moz O ms Khtml'.split(' '),\n        pfx  = '';\n\n    if( elm.style.animationName ) { animation = true; }\n\n    if( animation === false ) {\n      for( var i = 0; i < domPrefixes.length; i++ ) {\n        if( elm.style[ domPrefixes[i] + 'AnimationName' ] !== undefined ) {\n          pfx = domPrefixes[ i ];\n          animationstring = pfx + 'Animation';\n          keyframeprefix = '-' + pfx.toLowerCase() + '-';\n          animation = true;\n          break;\n        }\n      }\n    }\n\n    return {\n        host: host,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (~~ (number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        },\n        transistionEvent : 'webkitTransitionEnd oTransitionEnd otransitionend transitionend',\n        supportsAnimation : animation\n    };\n});\n","\ndefine('models/phase-weekend-collection',[\n    'jQuery',\n    'Lodash',\n    'Backbone',\n    'models/base-collection',\n    'libs/utils'\n],\nfunction(\n    $,\n    _,\n    Backbone,\n    BaseCollection,\n    Utils\n) {\n    'use strict';\n\n    return BaseCollection.extend({\n\n        _onPhaseDetails : function(){\n            if(! this.hasDeffered) this.defer(0)(this._onAfterAdd);\n        },\n\n        _onAfterAdd : function(){\n            // console.log(this.models);\n            this.framework.trigger('phase:details', this.toJSON());\n        },\n\n        url : '../../../assets/sports/f1/api/json.php?method=GetGPWeekend&eventPhaseId={0}&languageCode={1}&_={2}',\n\n        _buildUrl : function(){\n            this.url = this.url.format(openbox.params.eventPhaseId, openbox.params.languageCode || 2, Date.now());\n        },\n\n        initialize : function(){\n           this._buildUrl();\n           this.on('add', this._onPhaseDetails, this);\n        }\n    });\n});","\ndefine('models/race-collection',[\n    'jQuery',\n    'Lodash',\n    'Backbone',\n    'models/base-collection',\n    'libs/utils'\n],\nfunction(\n    $,\n    _,\n    Backbone,\n    BaseCollection,\n    Utils\n) {\n    'use strict';\n\n    var isLapped = function(time){\n            return /lap/g.test(time);\n        },\n        isAbandoned = function(data){\n            return data.c_AbandonReason !== null;\n        };\n\n    return BaseCollection.extend({\n\n        _onDrivers : function(){\n            openbox.log('added driver');\n            if(! this.hasDeffered) this.defer(0)(this._onAfterDriversAdd);\n        },\n\n        _onAfterDriversAdd : function(){\n           this.trigger('drivers:returned', this.models);\n           this.hasDeffered = false;\n        },\n\n        _displayTime : function(data){\n            var status = '';\n            if(data.n_RankSort === 1) {\n                status = 'leader';\n            } else if(data.abandoned) {\n                status = 'abandoned';\n            } else if (!data.c_Result){\n                status = 'tba';\n            } else {\n                status = this._setDisplayTime(data);\n            }\n            return status;\n        },\n\n        _setDisplayTime : function(data){\n            return (data.relativeTime || data.c_Result) + (! data.lapped && ' sec');\n        },\n\n        urlPart : '../../../assets/sports/f1/api/json.php?method=GetGPResultLive&phaseId={0}&languageCode={1}&_={2}',\n        // urlPart : 'http://192.168.178.56:3131/f1/safety_car_live.json',\n\n        roundTime : function(time){\n            var cleanTime = time.replace('+', '');\n            if(/\\d:/.test(cleanTime)){\n                var multiplier = +cleanTime.replace(/(:\\d.+)/g, '');\n                cleanTime = +(cleanTime.split(':')[1]) + (multiplier * 60);\n            }\n            return +cleanTime;\n        },\n\n        calculateRelative : function(curr, prev){\n            var relative = this.roundTime(curr) - this.roundTime(prev);\n            return Math.round(relative * 100) / 100;\n        },\n\n        phaseTarget : 'Race',\n\n        parse : function(data){\n            var lapCount = {},\n                lastPlace = 0;\n\n            if(data && data.length > 0) {\n                for (var i = 0, j = data.length; i < j; i++) {\n                    data[i].lapped = isLapped(data[i].c_Result);\n                    data[i].abandoned = isAbandoned(data[i]);\n\n                    if(data[i].lapped) {\n                        if(! lapCount[data[i].c_Result] && ! data[i].c_AbandonReason) {\n                            data[i].lappedCount = lapCount[data[i].c_Result] = 1;\n                        } else {\n                            data[i].lappedCount = null;\n                        }\n                    }\n                    data[i].id = data[i].n_PersonID;\n\n                    // when the feed first starts we dont get a rank sort?!\n                    if(! data[i].c_Rank) data[i].n_RankSort = i + 1;\n                    \n                    if(! data[i].abandoned) lastPlace = i;\n                    if(! this.models.length && data[i].n_RankSort === 1) data[i].isSelected = true;\n                    if(! data[i].abandoned && ! data[i].lapped && data[i].n_RankSort > 2) {\n                        data[i].relativeTime = '+ {0}'.format(this.calculateRelative(data[i].c_Result, data[i-1].c_Result));\n                    }\n\n                    data[i].displayTime = this._displayTime(data[i]);\n                }\n                data[lastPlace].isLast = true;\n                return data;\n            }\n            else {\n                this.framework.trigger('race:notstarted');\n            }\n        },\n\n        getLastNonAbandonedDriver : function(){\n            return _.last(this.where({ c_AbandonReason : null }));\n        },\n\n        initialize : function(){\n            this.on('add', this._onDrivers, this);\n            this.framework.on('phase:details', this.onPhaseDetails, this);\n        }\n    });\n});","\ndefine('models/qualifying-collection',[\n    'jQuery',\n    'Lodash',\n    'Backbone',\n    'models/base-collection',\n    'libs/utils'\n],\nfunction(\n    $,\n    _,\n    Backbone,\n    BaseCollection,\n    Utils\n) {\n    'use strict';\n\n    return BaseCollection.extend({\n\n        _onDrivers : function(){\n            if(! this.hasDeffered) this.defer(0)(this._onAfterDriversAdd);\n        },\n\n        _onAfterDriversAdd : function(){\n           this.trigger('qualifying:returned', this.models);\n           this.hasDeffered = false;\n        },\n\n        urlPart : '../../../assets/sports/f1/api/json.php?method=GetGPResult&phaseId={0}&languageCode={1}&_={2}',\n\n        phaseTarget : 'Starting grid',\n\n        parse : function(data){\n            if(data && data.length) {\n                var lapCount = {};\n\n                for (var i = 0, j = data.length; i < j; i++) {\n                    data[i].id = data[i].n_PersonID;\n                }\n                return data;\n            }\n        },\n\n        initialize : function(){\n            this.framework.on('phase:details', this.onPhaseDetails, this);\n            this.on('add', this._onDrivers, this);\n        }\n    });\n});","\ndefine('models/phase-model',[\n    'jQuery',\n    'Lodash',\n    'Backbone',\n    'libs/base',\n    'libs/utils'\n],\nfunction(\n    $,\n    _,\n    Backbone,\n    Base,\n    Utils\n) {\n    'use strict';\n\n    var model = Backbone.Model.extend({\n\n        urlPart : '../../../assets/sports/f1/api/json.php?method=GetGPPhaseInfo&phaseId={0}&languageCode={1}&_={2}',\n        // urlPart : 'http://192.168.178.56:3131/f1/phase_safety.json',\n\n        parse : function(data){\n            if(data) return data[0];\n        },\n\n        phaseTarget : 'Race',\n\n        pollSpeed : 15000,\n\n        initialize : function(){\n            this.framework.on('phase:details', this.onPhaseDetails, this);\n        }\n    });\n\n    _.extend(model.prototype, Base);\n\n    return model;\n});","\ndefine('views/loading-view',[\n    'jQuery',\n    'Lodash',\n    'Backbone',\n    'openbox',\n    'views/base-view'\n],\nfunction(\n    $,\n    _,\n    Backbone,\n    openbox,\n    BaseView\n) {\n    'use strict';\n\n    return BaseView.extend({\n\n        /* Public Members */\n        _onReady : function(e){\n            this.$el.addClass('ready');\n            var that = this;\n            setTimeout(function(){\n                that.$el.hide();\n            }, 1000);\n            this.framework.trigger('content:loaded');\n        },\n\n        _progress : function(percent){\n            this.loaded = percent;\n            this.$progress.css({ width :  this.loaded + '%' });\n        },\n\n        _preload : function(images){\n            var self = this,\n                isWeb = ! this.platformIsNative(),\n                targetCount = images.length;\n\n            _.each(images, function(imageName){\n                var image = new Image();\n                image.src = isWeb ? imageName.replace('@2x', '') : imageName;\n                image.onload = function(){\n                    targetCount-=1;\n                    self._progress(self._loadingBits);\n                    if(targetCount === 0) self._onReady();\n                };\n            });\n        },\n\n        _onPhaseLoaded : function(){\n              this._progress(50);\n              this.$('.message').html('Loading race details....');\n        },\n\n        _onModelLoaded : function(){\n            this._progress(100);\n            this.defer(300)(this._onReady);\n        },\n\n        _onRaceNotStarted : function(){\n            this._progress(0);\n            this.$('.message').html('Race begins soon');\n        },\n\n        loaded : 0,\n\n        initialize : function(){\n            this.framework.on('phase:details', this._onPhaseLoaded, this);\n            this.framework.on('race:notstarted', this._onRaceNotStarted, this);\n            this.collection.on('drivers:returned', this._onModelLoaded, this);\n            this.$progress = this.$('#progressBar');\n            this.render();\n        },\n\n        render : function(){\n            return this;\n        }\n    });\n});","\n/**\n * @license RequireJS text 2.0.3 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/requirejs/text for details\n */\n/*jslint regexp: true */\n/*global require: false, XMLHttpRequest: false, ActiveXObject: false,\n  define: false, window: false, process: false, Packages: false,\n  java: false, location: false */\n\ndefine('text',['module'], function (module) {\n    'use strict';\n\n    var text, fs,\n        progIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'],\n        xmlRegExp = /^\\s*<\\?xml(\\s)+version=[\\'\\\"](\\d)*.(\\d)*[\\'\\\"](\\s)*\\?>/im,\n        bodyRegExp = /<body[^>]*>\\s*([\\s\\S]+)\\s*<\\/body>/im,\n        hasLocation = typeof location !== 'undefined' && location.href,\n        defaultProtocol = hasLocation && location.protocol && location.protocol.replace(/\\:/, ''),\n        defaultHostName = hasLocation && location.hostname,\n        defaultPort = hasLocation && (location.port || undefined),\n        buildMap = [],\n        masterConfig = (module.config && module.config()) || {};\n\n    text = {\n        version: '2.0.3',\n\n        strip: function (content) {\n            //Strips <?xml ...?> declarations so that external SVG and XML\n            //documents can be added to a document without worry. Also, if the string\n            //is an HTML document, only the part inside the body tag is returned.\n            if (content) {\n                content = content.replace(xmlRegExp, \"\");\n                var matches = content.match(bodyRegExp);\n                if (matches) {\n                    content = matches[1];\n                }\n            } else {\n                content = \"\";\n            }\n            return content;\n        },\n\n        jsEscape: function (content) {\n            return content.replace(/(['\\\\])/g, '\\\\$1')\n                .replace(/[\\f]/g, \"\\\\f\")\n                .replace(/[\\b]/g, \"\\\\b\")\n                .replace(/[\\n]/g, \"\\\\n\")\n                .replace(/[\\t]/g, \"\\\\t\")\n                .replace(/[\\r]/g, \"\\\\r\")\n                .replace(/[\\u2028]/g, \"\\\\u2028\")\n                .replace(/[\\u2029]/g, \"\\\\u2029\");\n        },\n\n        createXhr: masterConfig.createXhr || function () {\n            //Would love to dump the ActiveX crap in here. Need IE 6 to die first.\n            var xhr, i, progId;\n            if (typeof XMLHttpRequest !== \"undefined\") {\n                return new XMLHttpRequest();\n            } else if (typeof ActiveXObject !== \"undefined\") {\n                for (i = 0; i < 3; i += 1) {\n                    progId = progIds[i];\n                    try {\n                        xhr = new ActiveXObject(progId);\n                    } catch (e) {}\n\n                    if (xhr) {\n                        progIds = [progId];  // so faster next time\n                        break;\n                    }\n                }\n            }\n\n            return xhr;\n        },\n\n        /**\n         * Parses a resource name into its component parts. Resource names\n         * look like: module/name.ext!strip, where the !strip part is\n         * optional.\n         * @param {String} name the resource name\n         * @returns {Object} with properties \"moduleName\", \"ext\" and \"strip\"\n         * where strip is a boolean.\n         */\n        parseName: function (name) {\n            var strip = false, index = name.indexOf(\".\"),\n                modName = name.substring(0, index),\n                ext = name.substring(index + 1, name.length);\n\n            index = ext.indexOf(\"!\");\n            if (index !== -1) {\n                //Pull off the strip arg.\n                strip = ext.substring(index + 1, ext.length);\n                strip = strip === \"strip\";\n                ext = ext.substring(0, index);\n            }\n\n            return {\n                moduleName: modName,\n                ext: ext,\n                strip: strip\n            };\n        },\n\n        xdRegExp: /^((\\w+)\\:)?\\/\\/([^\\/\\\\]+)/,\n\n        /**\n         * Is an URL on another domain. Only works for browser use, returns\n         * false in non-browser environments. Only used to know if an\n         * optimized .js version of a text resource should be loaded\n         * instead.\n         * @param {String} url\n         * @returns Boolean\n         */\n        useXhr: function (url, protocol, hostname, port) {\n            var uProtocol, uHostName, uPort,\n                match = text.xdRegExp.exec(url);\n            if (!match) {\n                return true;\n            }\n            uProtocol = match[2];\n            uHostName = match[3];\n\n            uHostName = uHostName.split(':');\n            uPort = uHostName[1];\n            uHostName = uHostName[0];\n\n            return (!uProtocol || uProtocol === protocol) &&\n                   (!uHostName || uHostName.toLowerCase() === hostname.toLowerCase()) &&\n                   ((!uPort && !uHostName) || uPort === port);\n        },\n\n        finishLoad: function (name, strip, content, onLoad) {\n            content = strip ? text.strip(content) : content;\n            if (masterConfig.isBuild) {\n                buildMap[name] = content;\n            }\n            onLoad(content);\n        },\n\n        load: function (name, req, onLoad, config) {\n            //Name has format: some.module.filext!strip\n            //The strip part is optional.\n            //if strip is present, then that means only get the string contents\n            //inside a body tag in an HTML string. For XML/SVG content it means\n            //removing the <?xml ...?> declarations so the content can be inserted\n            //into the current doc without problems.\n\n            // Do not bother with the work if a build and text will\n            // not be inlined.\n            if (config.isBuild && !config.inlineText) {\n                onLoad();\n                return;\n            }\n\n            masterConfig.isBuild = config.isBuild;\n\n            var parsed = text.parseName(name),\n                nonStripName = parsed.moduleName + '.' + parsed.ext,\n                url = req.toUrl(nonStripName),\n                useXhr = (masterConfig.useXhr) ||\n                         text.useXhr;\n\n            //Load the text. Use XHR if possible and in a browser.\n            if (!hasLocation || useXhr(url, defaultProtocol, defaultHostName, defaultPort)) {\n                text.get(url, function (content) {\n                    text.finishLoad(name, parsed.strip, content, onLoad);\n                }, function (err) {\n                    if (onLoad.error) {\n                        onLoad.error(err);\n                    }\n                });\n            } else {\n                //Need to fetch the resource across domains. Assume\n                //the resource has been optimized into a JS module. Fetch\n                //by the module name + extension, but do not include the\n                //!strip part to avoid file system issues.\n                req([nonStripName], function (content) {\n                    text.finishLoad(parsed.moduleName + '.' + parsed.ext,\n                                    parsed.strip, content, onLoad);\n                });\n            }\n        },\n\n        write: function (pluginName, moduleName, write, config) {\n            if (buildMap.hasOwnProperty(moduleName)) {\n                var content = text.jsEscape(buildMap[moduleName]);\n                write.asModule(pluginName + \"!\" + moduleName,\n                               \"define(function () { return '\" +\n                                   content +\n                               \"';});\\n\");\n            }\n        },\n\n        writeFile: function (pluginName, moduleName, req, write, config) {\n            var parsed = text.parseName(moduleName),\n                nonStripName = parsed.moduleName + '.' + parsed.ext,\n                //Use a '.js' file name so that it indicates it is a\n                //script that can be loaded across domains.\n                fileName = req.toUrl(parsed.moduleName + '.' +\n                                     parsed.ext) + '.js';\n\n            //Leverage own load() method to load plugin value, but only\n            //write out values that do not have the strip argument,\n            //to avoid any potential issues with ! in file names.\n            text.load(nonStripName, req, function (value) {\n                //Use own write() method to construct full module value.\n                //But need to create shell that translates writeFile's\n                //write() to the right interface.\n                var textWrite = function (contents) {\n                    return write(fileName, contents);\n                };\n                textWrite.asModule = function (moduleName, contents) {\n                    return write.asModule(moduleName, fileName, contents);\n                };\n\n                text.write(pluginName, nonStripName, textWrite, config);\n            }, config);\n        }\n    };\n\n    if (masterConfig.env === 'node' || (!masterConfig.env &&\n            typeof process !== \"undefined\" &&\n            process.versions &&\n            !!process.versions.node)) {\n        //Using special require.nodeRequire, something added by r.js.\n        fs = require.nodeRequire('fs');\n\n        text.get = function (url, callback) {\n            var file = fs.readFileSync(url, 'utf8');\n            //Remove BOM (Byte Mark Order) from utf8 files if it is there.\n            if (file.indexOf('\\uFEFF') === 0) {\n                file = file.substring(1);\n            }\n            callback(file);\n        };\n    } else if (masterConfig.env === 'xhr' || (!masterConfig.env &&\n            text.createXhr())) {\n        text.get = function (url, callback, errback) {\n            var xhr = text.createXhr();\n            xhr.open('GET', url, true);\n\n            //Allow overrides specified in config\n            if (masterConfig.onXhr) {\n                masterConfig.onXhr(xhr, url);\n            }\n\n            xhr.onreadystatechange = function (evt) {\n                var status, err;\n                //Do not explicitly handle errors, those should be\n                //visible via console output in the browser.\n                if (xhr.readyState === 4) {\n                    status = xhr.status;\n                    if (status > 399 && status < 600) {\n                        //An http 4xx or 5xx error. Signal an error.\n                        err = new Error(url + ' HTTP status: ' + status);\n                        err.xhr = xhr;\n                        errback(err);\n                    } else {\n                        callback(xhr.responseText);\n                    }\n                }\n            };\n            xhr.send(null);\n        };\n    } else if (masterConfig.env === 'rhino' || (!masterConfig.env &&\n            typeof Packages !== 'undefined' && typeof java !== 'undefined')) {\n        //Why Java, why is this so awkward?\n        text.get = function (url, callback) {\n            var stringBuffer, line,\n                encoding = \"utf-8\",\n                file = new java.io.File(url),\n                lineSeparator = java.lang.System.getProperty(\"line.separator\"),\n                input = new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file), encoding)),\n                content = '';\n            try {\n                stringBuffer = new java.lang.StringBuffer();\n                line = input.readLine();\n\n                // Byte Order Mark (BOM) - The Unicode Standard, version 3.0, page 324\n                // http://www.unicode.org/faq/utf_bom.html\n\n                // Note that when we use utf-8, the BOM should appear as \"EF BB BF\", but it doesn't due to this bug in the JDK:\n                // http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4508058\n                if (line && line.length() && line.charAt(0) === 0xfeff) {\n                    // Eat the BOM, since we've already found the encoding on this file,\n                    // and we plan to concatenating this buffer with others; the BOM should\n                    // only appear at the top of a file.\n                    line = line.substring(1);\n                }\n\n                stringBuffer.append(line);\n\n                while ((line = input.readLine()) !== null) {\n                    stringBuffer.append(lineSeparator);\n                    stringBuffer.append(line);\n                }\n                //Make sure we return a JavaScript string and not a Java string.\n                content = String(stringBuffer.toString()); //String\n            } finally {\n                input.close();\n            }\n            callback(content);\n        };\n    }\n\n    return text;\n});\n","\ndefine('text!templates/car.html',[],function () { return '<div class=\"car\">\\n\\t<div class=\"lap-details\"></div>\\n\\t<div class=\"result btn\"></div>\\n</div>\\n<div class=\"details\" style=\"background-image:url(http://zeebox.images.infostradasports.com/images/lib/basic/person/pp_clubteam/medium/<%=n_PersonID%>.png);\">\\n\\t<div class=\"position\"></div>\\n\\t<div class=\"name\">\\n\\t\\t<span class=\"who\"><%=c_PersonShort%></span>\\n\\t\\t<span class=\"team\"><%=c_ConstructorTeam%></span>\\n\\t</div>\\n</div>\\n';});\n","\ndefine('views/car-view',[\n    'jQuery',\n    'Lodash',\n    'Backbone',\n    'openbox',\n    'views/base-view',\n    'text!templates/car.html'\n],\nfunction(\n    $,\n    _,\n    Backbone,\n    openbox,\n    BaseView,\n    CarTemplate,\n    CarDetailsTemplate\n) {\n    'use strict';\n\n    var lappedCarPadding = 10,\n        carHeight = 80,\n        spaceMultiplier = 20,\n        firstLappedPadding = 50,\n        isAbandoned = function(data){\n            return data.c_AbandonReason !== null;\n        },\n        // +n lap\n        isLapped = function(val){\n            return (/lap/).test(val);\n        },\n        // +4.56|+1:45.55\n        isRelativeTime = function(val){\n            return (/\\+/g).test(val);\n        };\n\n    return BaseView.extend({\n\n        _updatePositionFor : function(data, isUpdate){\n            // set status\n            this._setAbandonedStatus(data, isUpdate);\n\n            if(! this.abandoned) {\n                this._recordTop(this._calcTop(data), data.n_RankSort);\n            }\n            else {\n                this.top = this.actualTop = 0; // abandoned cars arn't absolute so dont need a top\n            }\n            \n            this._updateCar(data);\n\n            this.previousPosition = data.n_RankSort;\n\n            if(this.model.get('isLast') && isUpdate) this.framework.trigger('change:last', this.actualTop);\n        },\n\n        _updateCar : function(data){\n            var hasLapCount = data.lappedCount === 1 && ! this.abandoned;\n            this.$el.toggleClass('p1', hasLapCount)\n                    .toggleClass('lapped', hasLapCount)\n                    .toggleClass('isLast', data.isLast !== undefined)\n                    .css('top', this.actualTop);\n\n            this.$('.details .position').html(this._ordinal(data.n_RankSort));\n            this.$('.car .result').html(data.displayTime)\n                                  .toggleClass('up', data.n_RankSort < this.previousPosition)\n                                  .toggleClass('down', data.n_RankSort > this.previousPosition);\n          \n            if(hasLapCount) this.$('.car .lap-details').html(data.c_Result.replace(/[ \\t]|lap/g, ''));\n        },\n\n        _setAbandonedStatus : function(data, isUpdate){\n            this.abandoned = isAbandoned(data);\n            this.$el.toggleClass('abandoned', this.abandoned);\n\n            // let the parent grid know its abandoned so it can be moved\n            if(isUpdate && this.abandoned) this.framework.trigger('driver:abandoned', this);\n        },\n\n        _recordTop : function(top, rank){\n            var carSpace = ((rank - 1) * carHeight);\n            \n            this.top = top;\n            /*\n                We pad top with the car space to avoid the pictures overlapping. \n            */\n            this.actualTop = top + carSpace;\n            this.model.set('top', this.top, {silent : true});\n            this.model.set('actualTop', this.actualTop, { silent : true });\n        },\n\n        /* Calculate the cars top position */\n        _calcTop : function(data){\n            var top = 0,\n                isLeader = ! data.c_Result;\n\n            if(isLeader){\n                top = 0;\n            }\n            else if(isLapped(data.c_Result)) {\n                top = this.getLastTop() + lappedCarPadding;\n                if(data.lappedCount === 1) top += firstLappedPadding;\n            }\n            else if(isRelativeTime(data.c_Result)){\n                var num = data.c_Result.replace('+', ''),\n                    split = 0;\n\n                if(/:/.test(num)){\n                    split = num.split(':');\n                    num = (+split[0] * 60) + (+split[1]);\n                }\n                top += (Math.round(+num) * spaceMultiplier);\n            }\n            return top;\n        },\n\n        _onChange : function(){\n            openbox.log('changed', this.model.get('c_Person'));\n            var data = this.model.toJSON();\n            this._updatePositionFor(data, true);\n            if(data.n_FastestLapRank === 1) this.framework.trigger('new:fastestRank');\n        },\n\n        _onDriverChange : function(changedTo){\n            var itsMe = changedTo.id === this.model.id;\n            if(itsMe) {\n                this.scrollTo(this.abandoned ? 'bottom' : this.actualTop);\n            }\n            this.model.set('isSelected',  itsMe, { silent : true });\n            this.$el.toggleClass('selected', itsMe);\n        },\n\n        _onMeSelected : function(){\n            this.framework.trigger('driver:selected', this.model);\n        },\n        \n        /* Public Members */\n\n        events : {\n            'click' : '_onMeSelected'\n        },\n\n        getLastTop : function(){\n            return this.options.getPreviousTop(this.model.get('n_RankSort'));\n        },\n\n        className : 'driver',\n\n        initialize : function(){\n            this.model.on('change', this._onChange, this);\n            this.framework.on('driver:selected', this._onDriverChange, this);\n            this.render();\n        },\n\n        render : function(){\n            var data = this.model.toJSON();\n            this.$el.append(_.template(CarTemplate, data))\n                    .addClass('in'); // start animating movement\n\n            if(data.n_RankSort === 1) this.$el.addClass('selected');\n            this._updatePositionFor(data, this.options.lastTop);\n            return this;\n        }\n    });\n});","\ndefine('views/grid-view',[\n    'jQuery',\n    'Lodash',\n    'Backbone',\n    'openbox',\n    'views/base-view',\n    'views/car-view'\n],\nfunction(\n    $,\n    _,\n    Backbone,\n    openbox,\n    BaseView,\n    CarView\n) {\n    'use strict';\n\n    return BaseView.extend({\n\n        /* Find the previous model with rank -1 less that current\n           note : iterates back -1 until found as data can be flaky.\n         */\n        _getPreviousTop : function(rank){\n            var item = this.collection.where({ n_RankSort : rank })[0];\n            return  item && item.get('top') ? item : this._getPreviousTop(rank-1);\n        },\n\n        _setAbandonedTop : function(){\n            var lastPlace = this.collection.getLastNonAbandonedDriver().get('actualTop')\n            this.$abandoned.css('top', lastPlace + 150)\n                           .show();\n        },\n\n        /*\n            Driver has abandoned so bung them in the abandoned section and re-work the top\n        */\n        _onDriverAbandoned : function(car){\n            this._setAbandonedTop();\n            this.$abandonedHolder.prepend(car.$el);\n        },\n\n        /* Public Members */\n        className : 'race-grid',\n\n        initialize : function(){\n            this.collection.on('drivers:returned', this.render, this);\n            this.framework.on('driver:abandoned', this._onDriverAbandoned, this);\n\n            // we rely on this guy to set the top for abandoned, if he changes we need to move\n            this.framework.on('change:last', this._setAbandonedTop, this);\n\n            this.$track = this.$('.track');\n            this.$abandoned = this.$('.abandoned-grid');\n            this.$abandonedHolder = this.$('.abandoned-grid > .holder');\n        },\n\n        render : function(models){\n            var that = this,\n                abandoned = [];\n\n            _.each(models, function(model){\n                var car = new CarView({\n                    model : model,\n                    getPreviousTop : function(rank){\n                        return that._getPreviousTop(rank-1).get('top');\n                    }\n                });\n                if(! car.abandoned) {\n                    this.$el.append(car.$el);\n                }\n                else {\n                    abandoned.push(car);\n                    this.$abandonedHolder.append(car.$el);\n                }\n                \n            }, this);\n\n            // set abandonedTop\n            if(abandoned.length > 0) this._setAbandonedTop();\n            \n            return this;\n        }\n    });\n});","\ndefine('text!templates/profile.html',[],function () { return '<div class=\"mobile-title\">\\n\\t<div class=\"back\">\\n\\t<svg version=\"1.1\" id=\"Layer_1\" xmlns:x=\"&ns_extend;\" xmlns:i=\"&ns_ai;\" xmlns:graph=\"&ns_graphs;\"\\n     xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:a=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\\n     x=\"0px\" y=\"0px\" width=\"39px\" height=\"33px\" viewBox=\"0 0 50 45\" enable-background=\"new 0 0 50 45\" xml:space=\"preserve\"><g>\\n    <polygon points=\"23.482,37.625 26.439,34.668 15.817,24.046 43.84,24.046 43.84,19.868 15.817,19.868 26.439,9.244 23.482,6.288 10.772,19 7.814,21.957  \"/>\\n    </g>\\n    </svg>\\n\\t</div>\\n\\t<span><%=displayTime%></span>\\n</div>\\n<div class=\"position\">\\n\\t<div class=\"driver-pic\" style=\"background-image:url(http://zeebox.images.infostradasports.com/images/lib/basic/person/pp_clubteam/medium/<%=n_PersonID%>.png)\"></div>\\n\\t<div class=\"name\"><%=c_Person%></div>\\n\\t<div class=\"pos_cur\">\\n\\t\\t<%if(!c_Rank){ %>\\n\\t\\t\\t-\\n\\t\\t<%} else{%>\\n\\t\\t\\t<%=n_RankSort%><span><%=positionOrdinal%></span> \\n    \\t<%}%>\\n\\t\\t<span class=\"pos_name\">pos</span>\\n    </div>\\n    <div class=\"constructor\">\\n    \\t<div class=\"flag <%=c_NOCShort%>\"><%=c_ConstructorTeam%></div>\\n    </div>\\n\\t<div class=\"abandoned-message fadeZoom\">\\n\\t\\t<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\\n\\t\\t\\t width=\"16.167px\" height=\"15.833px\" viewBox=\"0 0 16.167 15.833\" enable-background=\"new 0 0 16.167 15.833\" xml:space=\"preserve\">\\n\\t\\t<circle fill=\"#ed040a\" cx=\"7.875\" cy=\"7.958\" r=\"6.875\"/>\\n\\t\\t</svg>\\n\\t\\t<span><%=c_AbandonReason%></span>\\n\\t</div>\\n\\t<div class=\"inpit-message fadeZoom\">\\n\\t\\t<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\\n\\t\\t\\t width=\"16.167px\" height=\"15.833px\" viewBox=\"0 0 16.167 15.833\" enable-background=\"new 0 0 16.167 15.833\" xml:space=\"preserve\">\\n\\t\\t<circle fill=\"#f17316\" cx=\"7.875\" cy=\"7.958\" r=\"6.875\"/>\\n\\t\\t</svg>\\n\\t\\t<span>In pit</span>\\n\\t</div>\\n\\t<div class=\"ontrack-message fadeZoom\">\\n\\t\\t<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\\n\\t\\t\\t width=\"16.167px\" height=\"15.833px\" viewBox=\"0 0 16.167 15.833\" enable-background=\"new 0 0 16.167 15.833\" xml:space=\"preserve\">\\n\\t\\t<circle fill=\"#7dce03\" cx=\"7.875\" cy=\"7.958\" r=\"6.875\"/>\\n\\t\\t</svg>\\n\\t\\t<span>On track</span>\\n\\t</div>\\n</div>\\n<div class=\"infographics <%if(c_FastestLapTime) print(\\'fastest-lap\\')%>\">\\n\\t<div class=\"pit-stops\">\\n\\t\\t<div class=\"wrapper\">\\n\\t\\t\\t<ul class=\"clear\">\\n\\t\\t\\t\\t<%for(var i=0, j=n_PitStops; i < j; i++) {%>\\n\\t\\t\\t\\t\\t<li class=\"fadeZoom\"></li>\\n\\t\\t\\t\\t<%}%>\\t\\n\\t\\t\\t</ul>\\n\\t\\t</div>\\n\\t\\t<p>Pit stops</p>\\n\\t\\t<p class=\"sub\"><%=n_PitStops%></p>\\n\\t</div>\\n\\t<div class=\"grid-position\">\\n\\t\\t<div class=\"grid-graphic\"><span><%=gridPosition%></span></div>\\n\\t\\t<p>Grid Position</p>\\n\\t\\t<p class=\"sub\"><%=gridPosition%> / <%=totalDrivers%></p>\\n\\t</div>\\n\\t<%if(c_FastestLapTime){%>\\n\\t\\t<div class=\"fastest-time\">\\n\\t\\t\\t<div class=\"lap-time\"><%=c_FastestLapTime%></div>\\n\\t\\t\\t<p>Fastest Lap Time</p>\\n\\t\\t</div>\\n\\t\\t<div class=\"fastest-rank\">\\n\\t\\t\\t<div class=\"rank\"><%=n_FastestLapRank%><span class=\"super\"><%=fastestLapOrdinal%></span></div>\\n\\t\\t\\t<p>Fastest Lap Rank</p>\\n\\t\\t</div>\\n\\t<%}%>\\n</div> \\n<!-- <div class=\"team\">\\n\\t<div class=\"car\">\\n\\t\\t<img src=\"http://zeebox.images.infostradasports.com/images/lib/basic/Sport/Autosport/Attribute/Car/Sideview/Large/<%=year%>/<%=n_ConstructorTeamID%>.png\" alt=\"\">\\n\\t</div>\\n\\t<div class=\"team-name\"><%=c_ConstructorTeam%></div>\\n</div> -->\\n\\n\\n<div class=\"profile-nav\">\\n\\t<div class=\"prev <% prevDisabled && print(\\'disabled\\');%>\">\\n\\t\\t<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\\n\\t\\t\\t width=\"41.833px\" height=\"55.25px\" viewBox=\"0 0 41.833 55.25\" enable-background=\"new 0 0 41.833 55.25\" xml:space=\"preserve\">\\n\\t\\t<path fill=\"#ed040a\" d=\"M9.598,2.93h22.875c2.762,0,5,2.239,5,5v40c0,2.762-2.238,5-5,5H9.598c-2.762,0-5-2.238-5-5v-40\\n\\t\\t\\tC4.598,5.168,6.836,2.93,9.598,2.93z M15.818,30.358l10.437,10.438l2.43-2.427l-8.724-8.724L18.256,27.9l1.704-1.687l8.724-8.723\\n\\t\\t\\tl-2.43-2.428L13.388,27.929L15.818,30.358z\"/>\\n\\t\\t</svg>\\n\\t</div>\\n\\t<span><%=n_RankSort%> of <%=totalDrivers%> drivers</span>\\n\\t<div class=\"next <% nextDisabled && print(\\'disabled\\');%>\">\\n\\t\\t<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\\n\\t\\t\\t width=\"41.833px\" height=\"55.25px\" viewBox=\"0 0 41.833 55.25\" enable-background=\"new 0 0 41.833 55.25\" xml:space=\"preserve\">\\n\\t\\t<path fill=\"#ed040a\" d=\"M32.473,2.93H9.598c-2.762,0-5,2.239-5,5v40c0,2.762,2.238,5,5,5h22.875c2.762,0,5-2.238,5-5v-40\\n\\t\\t\\tC37.473,5.168,35.235,2.93,32.473,2.93z M26.253,30.358L15.817,40.797l-2.43-2.427l8.724-8.724l1.704-1.746l-1.704-1.687\\n\\t\\t\\tl-8.724-8.723l2.43-2.428l12.866,12.866L26.253,30.358z\"/>\\n\\t\\t</svg>\\n\\t</div>\\n</div>\\n';});\n","\ndefine('views/profile-view',[\n    'jQuery',\n    'Lodash',\n    'Backbone',\n    'openbox',\n    'views/base-view',\n    'text!templates/profile.html'\n],\nfunction(\n    $,\n    _,\n    Backbone,\n    openbox,\n    BaseView,\n    ProfileTemplate\n) {\n    'use strict';\n\n    var qualifyLoaded, raceLoaded,\n        isDisabled = function(e){\n            return (/disabled/g).test(e.currentTarget.className);\n        };\n\n    return BaseView.extend({\n\n        _onDrivers: function(){\n            if(! qualifyLoaded || ! raceLoaded) return;\n            this.render(this.collection.models[0]);\n        },\n\n        _onQualifyLoaded : function(){\n            qualifyLoaded = true;\n            this._onDrivers();\n        },\n\n        _onRaceLoaded : function(){\n            raceLoaded = true;\n            this._onDrivers();\n        },\n\n        _preloadDriver : function(data){\n            var image = new Image(),\n                that = this;\n\n            image.onload = function(){\n                that.$('.driver-details .position img').addClass('fadeIn');\n            };\n\n            image.src = 'http://zeebox.images.infostradasports.com/images/lib/basic/person/pp_clubteam/large/{0}.png'.format(data.n_PersonID);\n        },\n\n        _onModelChange : function(){\n            this.render(this._currentModel);\n        },\n\n        _unbindCurrent : function(){\n            this._currentModel.off('change', this._onModelChange, this);\n        },\n\n        _bindToModel : function(model){\n            // remove previous\n            if(this._currentModel) this._unbindCurrent();\n\n            // add new\n            this._currentModel = model;\n            this._currentModel.on('change', this._onModelChange, this);\n        },\n\n        _onNavClick : function(e){\n            if(isDisabled(e)) return;\n\n            var isNext = $(e.currentTarget).hasClass('next'),\n                currentRank = this._currentModel.get('n_RankSort'),\n                target = this.collection.where({ n_RankSort : isNext ? currentRank+1 : currentRank-1 });\n\n            this.framework.trigger('driver:selected', target[0]);\n        },\n\n        _onClose : function(){\n            this.$el.removeClass('in');\n        },\n\n        _onDriverSelected : function(model, type){\n            this.render(model);\n            if(type !== 'fromfinder') this.$el.addClass('in');\n        },\n\n        _condition : function(data){\n            var status = 'ontrack';\n\n            if(data.c_AbandonReason) {\n                status = 'abandoned';\n            }\n            else if(data.b_InPit) {\n                status = 'in-pit';\n            }\n            return status;\n        },\n\n        /* Public Members */\n        initialize : function(){\n            this.collection.on('drivers:returned', this._onRaceLoaded, this);\n            this.qualifyCollection = this.options.qualifyCollection;\n            this.qualifyCollection.on('qualifying:returned', this._onQualifyLoaded, this);\n            this.framework.on('driver:selected', this._onDriverSelected, this);\n        },\n\n        events : {\n            'click .profile-nav .next, .prev' : '_onNavClick',\n            'click .back' : '_onClose'\n        },\n\n        render : function(model){\n            var data = model.toJSON();\n            data.positionOrdinal = this._ordinal(data.n_RankSort, true);\n            data.gridPosition = this.qualifyCollection.get(data.id).get('c_Rank');\n            data.gridOrdinal = this._ordinal(data.gridPosition, true);\n            data.condition = this._condition(data);\n            data.year = new Date().getFullYear();\n            data.fastestLapOrdinal = this._ordinal(data.n_FastestLapRank, true);\n            data.totalDrivers = this.collection.models.length;\n            data.prevDisabled = data.n_RankSort === 1;\n            data.nextDisabled = data.n_RankSort === data.totalDrivers;\n            this.$('.driver-details')\n                    .removeClass('abandoned ontrack in-pit')\n                    .addClass(data.condition)\n                    .html(_.template(ProfileTemplate, data));\n\n            this._bindToModel(model);\n            this.$el.addClass('shown');\n\n            return this;\n        }\n    });\n});","\ndefine('text!templates/find.html',[],function () { return '<%_.each(drivers, function(driver){%>\\n\\t<option <% driver.isSelected && print(\\'selected\\'); \\t%> value=\"<%=driver.id%>\"><%=driver.c_Person%> <% if(driver.n_FastestLapRank === 1) print(\\' (FL)\\')%></option>\\n<%});%>\\n';});\n","\ndefine('views/find-view',[\n    'jQuery',\n    'Lodash',\n    'BackboneTouch',\n    'openbox',\n    'views/base-view',\n    'models/race-collection',\n    'text!templates/find.html'\n],\nfunction(\n    $,\n    _,\n    Backbone,\n    openbox,\n    BaseView,\n    RaceCollection,\n    FindTemplate\n) {\n    'use strict';\n\n    return BaseView.extend({\n\n        _onDriverChange : function(e){\n            this.framework.trigger('driver:selected', this.collection.get(e.currentTarget.value), 'fromfinder');\n        },\n\n        _onDriverSelected : function(data, fromfinder){\n            if(!fromfinder) this.defer(0)(this.render);\n        },\n\n        events : {\n            'change #find-driver' : '_onDriverChange'\n        },\n\n        initialize : function(){\n            this.collection.on('drivers:returned', this.render, this);\n            this.framework.on('driver:selected', this._onDriverSelected, this);\n            this.framework.on('new:fastestRank', this._onDriverSelected, this);\n        },\n\n        render : function(){\n\n            var  data = _.sortBy(this.collection.toJSON(), function(item){\n                            return item.c_Person;\n                       }),\n                       html = _.template(FindTemplate, { drivers : data });\n\n            this.$('#find-driver').empty()\n                                  .append(html);\n            return this;\n        }\n    });\n\n});","\ndefine('views/progress-view',[\n    'jQuery',\n    'Lodash',\n    'Backbone',\n    'openbox',\n    'views/base-view'\n],\nfunction(\n    $,\n    _,\n    Backbone,\n    openbox,\n    BaseView\n) {\n    'use strict';\n\n    return BaseView.extend({\n\n        /*\n            The data here sucks, so I am forced to use the top drivers current lap\n            for the race progress. Which can change so I need to monitor this on change \n            of position.\n        */\n        _setModel : function() {\n            if(this.model) this._manageBindings('off');\n            this.model = this.collection.where({'n_RankSort' : 1})[0];\n            this._manageBindings('on');\n        },\n\n        _manageBindings : function(binding){\n            this.model[binding]('change:n_RankSort', this._setModel, this);\n            this.model[binding]('change:n_LapsAbs', this.render, this);\n        },\n\n        _onDrivers : function(){\n            this._setModel();\n            this.render();\n        },\n\n        /* Public Members */\n\n        initialize : function(){\n            this.totalLaps = +openbox.params.totalLaps || 55;\n            this.collection.on('drivers:returned', this._onDrivers, this);\n        },\n\n        /* render */\n\n        renderProgressbar : function(data){\n            if(! this.$progress) this.$progress = this.$('.holder .progress-bar');\n            var percent = Math.round(((data.n_LapsAbs || 0) / this.totalLaps) * 100);\n            this.$progress.css('width', '{0}%'.format(percent));\n            return this;\n        },\n\n        renderProgressText : function(data){\n            if(! this.$progressText) this.$progressText = this.$('.progress-text');\n            this.$progressText.html('{0} / {1} laps'.format(data.n_LapsAbs, this.totalLaps));\n            return this;\n        },\n\n        render : function(){\n            var data = this.model.toJSON();\n            this.renderProgressbar(data)\n                .renderProgressText(data);\n            return this;\n        }\n    });\n\n});","\ndefine('views/app-view',[\n    'jQuery',\n    'Lodash',\n    'BackboneTouch',\n    'openbox',\n    'views/base-view',\n    'models/phase-weekend-collection',\n    'models/race-collection',\n    'models/qualifying-collection',\n    'models/phase-model',\n    'views/loading-view',\n    'views/grid-view',\n    'views/profile-view',\n    'views/find-view',\n    'views/progress-view'\n],\nfunction(\n    $,\n    _,\n    Backbone,\n    openbox,\n    BaseView,\n    PhaseWeekendCollection,\n    RaceCollection,\n    QualifyCollection,\n    PhaseModel,\n    LoadingView,\n    GridView,\n    ProfileView,\n    FinderView,\n    ProgressView\n) {\n    'use strict';\n\n    var raceTitle;\n\n    return BaseView.extend({\n\n        _onShow : function(current){\n            this.model.set('current', current);\n        },\n\n        _onBackToTop : function(){\n            this.scrollTo(0);\n        },\n\n        _initSubViews : function(){\n            this.views.push(new LoadingView({ el : '.loading', collection : this.collection }));\n            this.views.push(new GridView({ el : '.grid', collection : this.collection }));\n            this.views.push(new ProfileView({ el : '.profile', collection : this.collection, qualifyCollection : this.qualifyCollection }));\n            this.views.push(new FinderView({ el : '.finder', collection : this.collection }));\n            this.views.push(new ProgressView({ el : '.race-progress', collection : this.collection }));\n        },\n\n        _onModelLoaded : function(){\n            this.ShareManager = new ShareManager({ framework : this.framework, model : this.model });\n            this.addAppendView(ShareView, { name : 'main-share' });\n            this.addAppendView(MenuView, { model : this.model });\n            if(this.platformIsMobile()) {\n                this.addAppendView(MobileShareView, { name : 'main-share' });\n            }\n        },\n\n        _addProgressView : function(){\n            \n        },\n\n        _onPhaseDetails : function(){\n            if(!raceTitle) {\n                raceTitle = '{0} grand prix'.format(openbox.params.raceName || this.phaseModel.get('c_Country'));\n                this.$('header .title .event').html(raceTitle);\n            }\n            this.$('.race-status').html('race ' + this.phaseModel.get('c_PhaseStatus'));\n\n            this._addProgressView();\n        },\n\n        /* Public Members */\n        views : [],\n\n        events : {\n            'click .back-to-top' : '_onBackToTop'\n        },\n\n        initialize : function(){\n            this.collection = new RaceCollection();\n            this.qualifyCollection = new QualifyCollection();\n            this.phaseWeekendCollection = new PhaseWeekendCollection();\n            this.phaseModel = new PhaseModel();\n            this.phaseModel.on('change', this._onPhaseDetails, this);\n            this._initSubViews();\n            \n            this.phaseWeekendCollection.fetch();\n            this.render();\n        },\n\n        render : function(){\n            this.$('header .title .main > .big').html(new Date().getFullYear());\n            return this;\n        }\n    });\n});","\n// Based on https://github.com/jaubourg/ajaxHooks/blob/master/src/ajax/xdr.js\ndefine('libs/xdr',[\n    'jQuery'\n],\nfunction(\n    $\n) {\n    'use strict';\nif ( window.XDomainRequest && !jQuery.support.cors ) {\n\tjQuery.ajaxTransport(function( s ) {\n\t\tif ( s.crossDomain && s.async ) {\n\t\t\tif ( s.timeout ) {\n\t\t\t\ts.xdrTimeout = s.timeout;\n\t\t\t\tdelete s.timeout;\n\t\t\t}\n\t\t\tvar xdr;\n\t\t\treturn {\n\t\t\t\tsend: function( _, complete ) {\n\t\t\t\t\tfunction callback( status, statusText, responses, responseHeaders ) {\n\t\t\t\t\t\txdr.onload = xdr.onerror = xdr.ontimeout = xdr.onprogress = jQuery.noop;\n\t\t\t\t\t\txdr = undefined;\n\t\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t\t\tcomplete( status, statusText, responses, responseHeaders );\n\t\t\t\t\t}\n\t\t\t\t\txdr = new XDomainRequest();\n\t\t\t\t\txdr.open( s.type, s.url );\n\t\t\t\t\txdr.onload = function() {\n\t\t\t\t\t\tvar status = 200;\n\t\t\t\t\t\tvar message = xdr.responseText;\n\t\t\t\t\t\tvar r = JSON.parse(xdr.responseText);\n\t\t\t\t\t\tif (r.StatusCode && r.Message) {\n\t\t\t\t\t\t\tstatus = r.StatusCode;\n\t\t\t\t\t\t\tmessage = r.Message;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcallback( status , message, { text: message }, \"Content-Type: \" + xdr.contentType );\n\t\t\t\t\t};\n\t\t\t\t\txdr.onerror = function() {\n\t\t\t\t\t\tcallback( 500, \"Unable to Process Data\" );\n\t\t\t\t\t};\n\t\t\t\t\txdr.onprogress = function() {};\n\t\t\t\t\tif ( s.xdrTimeout ) {\n\t\t\t\t\t\txdr.ontimeout = function() {\n\t\t\t\t\t\t\tcallback( 0, \"timeout\" );\n\t\t\t\t\t\t};\n\t\t\t\t\t\txdr.timeout = s.xdrTimeout;\n\t\t\t\t\t}\n\t\t\t\t\txdr.send( ( s.hasContent && s.data ) || null );\n\t\t\t\t},\n\t\t\t\tabort: function() {\n\t\t\t\t\tif ( xdr ) {\n\t\t\t\t\t\txdr.onerror = jQuery.noop();\n\t\t\t\t\t\txdr.abort();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t});\n}\n});","\ndefine('libs/client-branding',[\n    'openbox'\n],\nfunction(\n    openbox\n) {\n    'use strict';\n\n    openbox.ready(function(params) {\n        // preload\n        var createStyle = function(href){\n            var ss = document.createElement(\"link\");\n            ss.type = \"text/css\";\n            ss.rel = 'stylesheet';\n            ss.href = href;\n            return ss;\n        };\n\n        if(params.style){\n            var client = (window.location.href.split('style=')[1]).replace(/(&.*)/, ''),\n                head = document.getElementsByTagName(\"head\")[0],\n                path = './styles/' + client;\n\n            head.appendChild(createStyle(path + '/style.css'));\n            if(navigator.userAgent.match(/MSIE/i)) head.appendChild(createStyle(path + '/ie.css'));\n        }\n    });\n\n});","\nrequire.config({\n    baseUrl: 'scripts',\n    paths: {\n        'Lodash': '/openbox/vendor/lodash/1.0.1/lodash.underscore.min',\n        'jQuery': [\n            'http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min',\n            '/openbox/vendor/jquery/1.9.1/jquery-1.9.1.min'\n         ],\n        'Backbone': '/openbox/vendor/backbone/1.0.0/backbone-min',\n        'BackboneTouch' : 'libs/backbone-touch',\n        'openbox': '/openbox/api/3.1/openbox.min',\n        'text' : 'libs/text'\n    },\n    shim: {\n        'jQuery' : {\n            exports : '$'\n        },\n        'hogan': {\n            exports: 'Hogan'\n        },\n        'Lodash': {\n            exports: '_'\n        },\n        'Backbone': {\n            deps: ['Lodash', 'jQuery'],\n            exports: \"Backbone\"\n        },\n        'openbox': {deps: ['jQuery'], exports: 'openbox'}\n    }\n});\n\n\n/* globals window */\n\nrequire([\n    'jQuery',\n    'Lodash',\n    'views/app-view',\n    'openbox',\n    'libs/xdr',\n    'libs/client-branding'\n],\nfunction(\n    $,\n    _,\n    AppView,\n    openbox,\n    xdr\n) {\n    'use strict';\n\n    String.prototype.format = function () {\n        var args = arguments;\n        return this.replace(/{(\\d+)}/g, function (match, number) {\n            return typeof args[number] !== 'undefined'\n              ? args[number]\n              : match\n            ;\n        });\n    };\n\n    var $progressBar,\n        $overlay,\n        initApp = function(params){\n            // on loaded \n            var appView = new AppView({\n                el : 'body',\n                version : window.f1version\n            });\n\n        };\n\n    openbox.ready(function(params) {\n        // preload\n        openbox.setWidgetDetails({\n             version     : 'f1-stats-0.2',\n             partner     : 'zeebox',\n             supplier    : 'com.zeebox.au',\n             type        : 'formula1',\n             desc        : 'formula1stats'\n        });\n\n        initApp(params);\n    });\n\n});\ndefine(\"main\", function(){});\n"]}