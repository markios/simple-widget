define("BackboneTouch",["Lodash","Backbone"],function(e,t){var n=function(t,n){return t&&t[n]?e.isFunction(t[n])?t[n]():t[n]:null},i=/^(\S+)\s*(.*)$/;return e.extend(t.View.prototype,{_touching:!1,touchPrevents:!0,isTouch:"ontouchstart"in document,delegateEvents:function(t){if(t||(t=n(this,"events"))){this.undelegateEvents();var o=".delegateEvents"+this.cid;e(t).each(function(n,r){if(e.isFunction(n)||(n=this[t[r]]),!n)throw new Error('Method "'+t[r]+'" does not exist');var s=r.match(i),a=s[1],u=s[2],d=e.bind(this._touchHandler,this);n=e.bind(n,this),this.isTouch&&"click"===a?(this.$el.on("touchstart"+o,u,d),this.$el.on("touchend"+o,u,{method:n},d)):(a+=o,""===u?this.$el.bind(a,n):this.$el.on(a,u,n))},this)}},_touchHandler:function(e){if("changedTouches"in e.originalEvent){var t=e.originalEvent.changedTouches[0],n=t.clientX,i=t.clientY;switch(e.type){case"touchstart":this._touching=[n,i];break;case"touchend":var o=this._touching[0],r=this._touching[1],s=10;if(o+s>n&&n>o-s&&r+s>i&&i>r-s){if(this._touching=!1,this.touchPrevents){var a=e.currentTarget.tagName;("BUTTON"===a||"A"===a)&&(e.preventDefault(),e.stopPropagation())}e.data.method(e)}}}}}),t}),define("libs/base",["jQuery","Lodash","openbox","Backbone"],function(e,t,n,i){var o={defer:function(e){var n=this;return t.bind(function(t){this.hasDeffered=setTimeout(function(){t.apply(n)},e)},this)},buildUrl:function(){return this.url=this.urlPart.format(this.params.phaseId,this.params.languageCode,Date.now()),this},platformIsTablet:function(){return!this.platformIsMobile()&&this.platformIsNative()},platformIsNative:function(){return null!=(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i))},platformIsWeb:function(){return!this.platformIsNative()},platformIsMobile:function(){return this.platformIsNative()&&e("body").width()<=410},framework:i.Events};return o}),define("views/base-view",["jQuery","Lodash","Backbone","openbox","libs/base"],function(e,t,n,i,o){var r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a="{0} {1} {2} {3}",u=e("body,html"),d=n.View.extend({_pageChanged:function(e){this.$el.toggle(e===this.name)},initialize:function(){this.framework.on("page:changed",this._pageChanged,this)},showBusy:function(){e('<div class="loading">').html(this.message||this.viewName+" will begin soon...").appendTo(this.$el)},hideBusy:function(){this.$(".loading").remove()},scrollTo:function(e){"string"==typeof e&&(e=u[0].scrollHeight),this.platformIsNative()?u.scrollTop(e):u.animate({scrollTop:e},1e3)},getFriendlyDateString:function(e){return e="string"==typeof e?new Date(e):e,a.format(s[e.getDay()],this._ordinal(e.getDate()),r[e.getMonth()],e.getFullYear())},addAppendView:function(e,n){var i=new e(t.extend({model:this.model},n));return this.$el.append(i.$el),this.views.push(i),i}});return t.extend(d.prototype,o),d}),define("views/loading-view",["jQuery","Lodash","Backbone","openbox","views/base-view"],function(e,t,n,i,o){return o.extend({_onReady:function(){this.$el.addClass("ready");var e=this;setTimeout(function(){e.$el.hide()},1e3),this.framework.trigger("content:loaded")},_progress:function(e){this.loaded=e,this.$progress.css({width:this.loaded+"%"})},_preload:function(e){var n=this,i=!this.platformIsNative(),o=e.length;t.each(e,function(e){var t=new Image;t.src=i?e.replace("@2x",""):e,t.onload=function(){o-=1,n._progress(n._loadingBits),0===o&&n._onReady()}})},_updateProgress:function(){this._progress(100),this.defer(300)(this._onReady)},loaded:0,initialize:function(){this.framework.on("ready",this._onReady,this),this.$progress=this.$("#progressBar"),this.render()},render:function(){return this}})}),define("views/menu-view",["jQuery","Lodash","BackboneTouch","openbox","views/base-view"],function(e,t,n,i,o){return o.extend({_onMenuClicked:function(t){window.location.hash="#"+e(t.currentTarget).attr("data-rel"),this.defer(300)(this._notifyMenuClicked)},_notifyMenuClicked:function(){this.framework.trigger("menu:hide")},events:{'change input[type="radio"]':"_onMenuClicked"},initialize:function(){},render:function(){return this}})}),define("routers/app-router",["jQuery","Lodash","openbox","Backbone","libs/base"],function(e,t,n,i,o){var r=i.Router.extend({routes:{"":"main",home:"main"},initialize:function(){},main:function(e,t){this.framework.trigger("page:changed",t)}});return t.extend(r.prototype,o),r}),define("views/app-view",["jQuery","Lodash","BackboneTouch","openbox","views/base-view","views/loading-view","views/menu-view","routers/app-router"],function(e,t,n,i,o,r,s,a){return o.extend({_onBackToTop:function(){this.scrollTo(0)},_initSubViews:function(){this.views.push(new r({el:".loading",collection:this.collection})),this.views.push(new s({el:".menu"}))},_onMenuClicked:function(){this.$(".wrapper").toggleClass("peekIn")},views:[],events:{"click .menu-button":"_onMenuClicked"},initialize:function(){this._initSubViews(),this.router=new a,n.history.start({pushState:!1}),this.render(),this.framework.trigger("ready"),this.framework.on("menu:hide",this._onMenuClicked,this)},render:function(){return this.$("header .title .main > .big").html((new Date).getFullYear()),this}})}),define("libs/xdr",["jQuery"],function(){window.XDomainRequest&&!jQuery.support.cors&&jQuery.ajaxTransport(function(e){if(e.crossDomain&&e.async){e.timeout&&(e.xdrTimeout=e.timeout,delete e.timeout);var t;return{send:function(n,i){function o(e,n,o,r){t.onload=t.onerror=t.ontimeout=t.onprogress=jQuery.noop,t=void 0,jQuery.event.trigger("ajaxStop"),i(e,n,o,r)}t=new XDomainRequest,t.open(e.type,e.url),t.onload=function(){var e=200,n=t.responseText,i=JSON.parse(t.responseText);i.StatusCode&&i.Message&&(e=i.StatusCode,n=i.Message),o(e,n,{text:n},"Content-Type: "+t.contentType)},t.onerror=function(){o(500,"Unable to Process Data")},t.onprogress=function(){},e.xdrTimeout&&(t.ontimeout=function(){o(0,"timeout")},t.timeout=e.xdrTimeout),t.send(e.hasContent&&e.data||null)},abort:function(){t&&(t.onerror=jQuery.noop(),t.abort())}}}})}),define("libs/client-branding",["openbox"],function(e){e.ready(function(e){var t=function(e){var t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=e,t};if(e.style){var n=window.location.href.split("style=")[1].replace(/(&.*)/,""),i=document.getElementsByTagName("head")[0],o="./styles/"+n;i.appendChild(t(o+"/style.css")),navigator.userAgent.match(/MSIE/i)&&i.appendChild(t(o+"/ie.css"))}})}),require.config({baseUrl:"scripts",paths:{Lodash:"/openbox/vendor/lodash/1.0.1/lodash.underscore.min",jQuery:["http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min","/openbox/vendor/jquery/1.9.1/jquery-1.9.1.min"],Backbone:"/openbox/vendor/backbone/1.0.0/backbone-min",BackboneTouch:"libs/backbone-touch",openbox:"/openbox/api/3.1/openbox.min",text:"libs/text"},shim:{jQuery:{exports:"$"},hogan:{exports:"Hogan"},Lodash:{exports:"_"},Backbone:{deps:["Lodash","jQuery"],exports:"Backbone"},openbox:{deps:["jQuery"],exports:"openbox"}}}),require(["jQuery","Lodash","views/app-view","openbox","libs/xdr","libs/client-branding"],function(e,t,n,i){String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,n){return"undefined"!=typeof e[n]?e[n]:t})};var o=function(){new n({el:"body",version:window.f1version})};i.ready(function(e){i.setWidgetDetails({version:"base widget",partner:"your partner",supplier:"domain",type:"the type",desc:"adescription"}),o(e)})}),define("main",function(){});
//# sourceMappingURL=main-built.js.map